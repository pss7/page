<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="Keywords" content="" />
    <meta name="Description" content="" />
    <meta name="Author" content="" />
    <meta name="viewport"
        content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">
    <title>재정정보</title>
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/slick.css">
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/script.js"></script>
    <script src="js/main.js"></script>

</head>

<body>

    <div id="wrap">


        <!-- 기존 홈페이지 html -->
        <div class="sub_contents_wrap">
            <div class="sub_contents_box inner">
                <div class="sub_contents_menu_box">
                    <div class="sub_title_box">
                        <h5>알림마당</h5>
                    </div>
                    <ul class="nav">

                        <li class="sub_title_ul on">
                            <div class="sub_title_list  on">
                                <a class="tit" href="#">
                                    계약법규</a>
                            </div>
                        </li>

                        <li class="sub_title_ul">
                            <div class="sub_title_list">
                                <a class="tit" href="#">
                                    계약서식</a>
                            </div>
                        </li>

                        <li class="sub_title_ul">
                            <div class="sub_title_list">
                                <a class="tit" href="#">
                                    수의계약 제한업체</a>
                            </div>
                        </li>

                        <li class="sub_title_ul">
                            <div class="sub_title_list">
                                <a class="tit" href="#">
                                    원가공개</a>
                            </div>
                        </li>

                        <li class="sub_title_ul">
                            <div class="sub_title_list">
                                <a class="tit" href="#">
                                    공지사항</a>
                            </div>
                        </li>

                    </ul>
                </div> <!-- lnb -->

                <div class="sub_contents_in_box">

                    <!-- 타이틀 박스 -->
                    <div class="sub_contents_tlte_box">
                        <div class="sub_contents_tlte">
                            <h4>계약법규</h4>
                        </div>
                    </div>
                    <!-- 타이틀 박스 끝-->

                    <div class="contents_wrap">

                        <!-- 재정정보 콘텐츠 -->
                        <div class="financial_info_box">
                            <div class="info_box">
                                <h5>
                                    예산현황
                                </h5>
                                <div class="box box01">
                                    <ul class="list">
                                        <li>
                                            <a href="#">
                                                <h6>예산액</h6>
                                                <div class="textBox">
                                                    <span>
                                                        1조 7,757억
                                                    </span>
                                                    <em>
                                                        (2025.08.06 기준)
                                                    </em>
                                                </div>
                                                <span class="view">
                                                    예산 현액 보기
                                                </span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <h6>집행액</h6>
                                                <div class="textBox">
                                                    <span>
                                                        4,981억
                                                    </span>
                                                    <em>
                                                        (25.52%)
                                                    </em>
                                                </div>
                                                <span class="view">
                                                    예산 현액 대비
                                                </span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <h6>신속 집행액</h6>
                                                <div class="textBox">
                                                    <span>
                                                        4,118억
                                                    </span>
                                                    <em>
                                                        (21.10%)
                                                    </em>
                                                </div>
                                                <span class="view">
                                                    예산 현액 대비
                                                </span>
                                            </a>
                                        </li>
                                    </ul>
                                    <div class="doughnut_chart_box">
                                        <canvas id="doughnut_chart"></canvas>
                                    </div>

                                </div>
                            </div>

                            <div class="info_box">
                                <h5>
                                    부서별/분야별 예산 현황
                                </h5>
                                <div class="box bar_chart_box">
                                    <div class="bar_chart">
                                        <canvas id="bar_chart01"></canvas>
                                    </div>
                                    <div class="bar_chart">
                                        <canvas id="bar_chart02"></canvas>
                                    </div>
                                </div>
                            </div>

                            <div class="info_box">
                                <h5>
                                    예산액 추이 및 세입/세출 예산
                                </h5>
                                <div class="box chart_box">
                                    <div class="sub_title_box">
                                        <em class="year">
                                            2025년 기준
                                        </em>
                                        <h6 class="sub_title">
                                            예산액 추이
                                        </h6>
                                        <span>
                                            기준 08.07
                                        </span>
                                    </div>
                                    <div class="line_chart_box">
                                        <canvas id="line_chart"></canvas>
                                    </div>
                                    <div class="tab_chart_box">
                                        <div class="btn_box">
                                            <button class="btn active">
                                                세입예산
                                            </button>
                                            <button class="btn">
                                                세출예산
                                            </button>
                                        </div>
                                    </div>
                                    <div class="tab_chart_content_box">
                                        <div class="tab_chart_content tab_chart_content01">
                                            <div class="sub_title_box">
                                                <button class="sub_title">
                                                    회계별 예산액
                                                </button>
                                                <span>
                                                    기준 08.20
                                                </span>
                                            </div>

                                            <ul class="lnfo_list">
                                                <li>
                                                    <h6>
                                                        합계
                                                    </h6>
                                                    <span class="number counter">
                                                        1,623,234
                                                    </span>
                                                </li>
                                                <li>
                                                    <h6>
                                                        일반회계
                                                    </h6>
                                                    <span class="number counter">
                                                        1,418,272
                                                    </span>
                                                </li>
                                                <li>
                                                    <h6>
                                                        공기업특별회계
                                                    </h6>
                                                    <span class="number counter">
                                                        157,764
                                                    </span>
                                                </li>
                                                <li>
                                                    <h6>
                                                        기타특별회계
                                                    </h6>
                                                    <span class="number counter">
                                                        47,204
                                                    </span>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="tab_chart_content tab_chart_content02">
                                            <div class="sub_title_box">
                                                <button class="sub_title">
                                                    분야별 예산현액
                                                </button>
                                                <span>
                                                    기준 08.07
                                                </span>
                                            </div>

                                            <ul class="lnfo_list">
                                                <li>
                                                    <h6>
                                                        사회복지
                                                    </h6>
                                                    <span class="number counter">
                                                        621,215
                                                    </span>
                                                    <div class="text_layout_box">
                                                        <em>집행액</em>
                                                        <strong>147,422</strong>
                                                    </div>
                                                    <div class="percent_wrap">
                                                        <div class="percent_box">
                                                            <span></span>
                                                        </div>
                                                        <em>
                                                            20%
                                                        </em>
                                                    </div>
                                                </li>
                                                <li>
                                                    <h6>
                                                        기타
                                                    </h6>
                                                    <span class="number counter">
                                                        293,875
                                                    </span>
                                                    <div class="text_layout_box">
                                                        <em>집행액</em>
                                                        <strong>245,519</strong>
                                                    </div>
                                                    <div class="percent_wrap">
                                                        <div class="percent_box">
                                                            <span></span>
                                                        </div>
                                                        <em>
                                                            84%
                                                        </em>
                                                    </div>
                                                </li>
                                                <li>
                                                    <h6>
                                                        일반공정행정
                                                    </h6>
                                                    <span class="number counter">
                                                        202,083
                                                    </span>
                                                    <div class="text_layout_box">
                                                        <em>집행액</em>
                                                        <strong>58,869</strong>
                                                    </div>
                                                    <div class="percent_wrap">
                                                        <div class="percent_box">
                                                            <span></span>
                                                        </div>
                                                        <em>
                                                            29%
                                                        </em>
                                                    </div>
                                                </li>
                                                <li>
                                                    <h6>
                                                        국토및지역개발
                                                    </h6>
                                                    <span class="number counter">
                                                        188,897
                                                    </span>
                                                    <div class="text_layout_box">
                                                        <em>집행액</em>
                                                        <strong>29,901</strong>
                                                    </div>
                                                    <div class="percent_wrap">
                                                        <div class="percent_box">
                                                            <span></span>
                                                        </div>
                                                        <em>
                                                            16%
                                                        </em>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!-- //재정정보 콘텐츠 -->

                    </div>
                </div>
            </div>
        </div>
        <!-- //기존 홈페이지 html -->

    </div>
    <!-- //wrap -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.counterup@2.1.0/jquery.counterup.min.js"></script>

    <script>
        $(function () {

            //탭메뉴
            $('.tab_chart_content').hide();
            $('.tab_chart_content').first().show();

            $('.financial_info_box .tab_chart_box .btn_box .btn').click(function () {

                $('.financial_info_box .tab_chart_box .btn_box .btn').removeClass('active');
                $(this).addClass('active');

                let idx = $(this).index();

                $('.tab_chart_content').hide();
                $('.tab_chart_content').eq(idx).show();

            })

            //숫자 올라가는 효과
            $('.counter').counterUp({
                delay: 10,
                time: 1000
            });

            //예산현황 도넛 차트
            const centerTextPlugin = {
                id: 'centerText',
                beforeDraw(chart) {
                    const { ctx, chartArea } = chart;
                    if (!chartArea) return;

                    const centerX = (chartArea.left + chartArea.right) / 2;
                    const centerY = (chartArea.top + chartArea.bottom) / 2;

                    ctx.save();

                    const lines = ["세출예산", "1,999,999", "백만원"];

                    let fontSize;
                    const screenWidth = window.innerWidth;

                    if (screenWidth < 480) {
                        fontSize = 16;
                    } else if (screenWidth < 768) {
                        fontSize = 18;
                    } else if (screenWidth < 1024) {
                        fontSize = 20;
                    } else {
                        fontSize = 26;
                    }

                    const lineHeight = fontSize * 1.4;

                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = '#003f7d';

                    lines.forEach((line, index) => {
                        ctx.font = `700 ${fontSize}px sans-serif`;
                        ctx.fillText(line, centerX, centerY - lineHeight + index * lineHeight);
                    });

                    ctx.restore();
                }
            };

            new Chart(document.getElementById("doughnut_chart"), {
                type: 'doughnut',
                data: {
                    labels: [
                        "기타", "일반공공행정", "국토및지역개발", "환경", "교통및물류",
                        "농림해양수산", "문화및관광", "보건", "공공질서및안전", "예비비", "사회복지"
                    ],
                    datasets: [{
                        label: "분야별 예산 비율",
                        backgroundColor: [
                            "#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850",
                            "#ffcc00", "#00cc99", "#ff9966", "#6699cc", "#9933cc", "#66ccff"
                        ],
                        data: [15, 10, 10, 9, 8, 5, 5, 2, 1, 0, 32]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    const label = context.label || '';
                                    const value = context.raw;
                                    return `${label}: ${value}%`;
                                }
                            }
                        }
                    }
                },
                plugins: [centerTextPlugin] // 필요 시 이 플러그인은 별도로 정의되어 있어야 작동
            });

            //예산액 추이 라인 차트
            new Chart(document.getElementById("line_chart"), {
                type: 'line',
                data: {
                    labels: [2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025],
                    datasets: [
                        {
                            label: "예산액",
                            data: [
                                1038979, 1127381, 1306083, 1303997, 1473952,
                                1597037, 1548764, 1787371, 1798638, 1775755
                            ],
                            borderColor: "#3e95cd",
                            backgroundColor: "#3e95cd",
                            fill: false,
                            tension: 0.3,
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: function (ctx) {
                                    const width = ctx.chart.width;
                                    return {
                                        size: width < 500 ? 10 : 14
                                    };
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            min: 1000000,
                            max: 2000000,
                            ticks: {
                                stepSize: 500000,
                                callback: function (value) {
                                    return value.toLocaleString(); // 천 단위 콤마
                                },
                                color: '#000',
                                font: function (ctx) {
                                    return {
                                        size: ctx.chart.width < 500 ? 10 : 12
                                    };
                                }
                            }
                        },
                        x: {
                            ticks: {
                                color: '#000',
                                font: function (ctx) {
                                    return {
                                        size: ctx.chart.width < 500 ? 10 : 12
                                    };
                                }
                            }
                        }
                    },
                    elements: {
                        point: {
                            radius: function (ctx) {
                                return ctx.chart.width < 500 ? 3 : 5;
                            },
                            hoverRadius: function (ctx) {
                                return ctx.chart.width < 500 ? 5 : 8;
                            }
                        }
                    }
                }

            });

            // 부서별/분야별 예산 현황 바 차트
            new Chart(document.getElementById("bar_chart01"), {
                type: 'bar',
                data: {
                    labels: [
                        "복지정책과", "고령사회정책과", "아동정책과", "총무과", "기획예산과",
                        "교통과", "장애인복지과", "자원순환과", "도로과"
                    ],
                    datasets: [
                        {
                            label: "편성액",
                            backgroundColor: "#3e95cd",
                            data: [320000, 280000, 150000, 300000, 270000, 230000, 200000, 250000, 260000]
                        },
                        {
                            label: "지출액",
                            backgroundColor: "#8e5ea2",
                            data: [300000, 250000, 140000, 290000, 240000, 210000, 180000, 230000, 240000]
                        }
                    ]
                },
                options: {
                    indexAxis: 'y',
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            color: '#000',
                            font: {
                                size: 18,
                                weight: 'bold'
                            },
                            text: '부서별 예산 현황'
                        }
                    },
                    scales: {
                        x: {
                            min: 0,
                            max: 400000,
                            ticks: {
                                stepSize: 100000,
                                callback: function (value) {
                                    return value.toLocaleString(); // 천 단위 콤마
                                },
                                color: '#000'
                            },
                        }
                    }
                }
            });

            // 부서별/분야별 예산 현황 바 차트
            new Chart(document.getElementById("bar_chart02"), {
                type: 'bar',
                data: {
                    labels: [
                        "사회복지", "기타", "일반공공행정", "국토및지역개발", "환경",
                        "교통및물류", "농림해명수산", "문화및관광", "산업/중소기업및에너지",
                        "보건", "공공질서및안전", "예비비", "교육"
                    ],
                    datasets: [
                        {
                            label: "편성액",
                            backgroundColor: "#3e95cd",
                            data: [150000, 120000, 300000, 250000, 180000, 220000, 160000, 190000, 210000, 170000, 140000, 100000, 200000]
                        },
                        {
                            label: "지출액",
                            backgroundColor: "#8e5ea2",
                            data: [130000, 100000, 280000, 230000, 160000, 200000, 150000, 170000, 190000, 150000, 120000, 90000, 180000]
                        }
                    ]
                },
                options: {
                    indexAxis: 'y',
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            color: '#000',
                            font: {
                                size: 18,
                                weight: 'bold'
                            },
                            text: '분야별 예산 현황'
                        }
                    },
                    scales: {
                        x: {
                            min: 0,
                            max: 400000,
                            ticks: {
                                stepSize: 100000,
                                callback: function (value) {
                                    return value.toLocaleString();
                                },
                                color: '#000'
                            },

                        }
                    }
                }
            });


        })
    </script>


</body>

</html>